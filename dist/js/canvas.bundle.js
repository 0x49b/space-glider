!function(t){var e={};function i(s){if(e[s])return e[s].exports;var h=e[s]={i:s,l:!1,exports:{}};return t[s].call(h.exports,h,h.exports,i),h.l=!0,h.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)i.d(s,h,function(e){return t[e]}.bind(null,h));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e){const i=document.querySelector("canvas"),s=i.getContext("2d");i.width=innerWidth,i.height=innerHeight;let h=0;const r=document.getElementById("score"),a=document.getElementById("startGameBtn"),o=document.getElementById("modalEl"),n=document.getElementById("bigScoreEl"),l=document.getElementById("bombsEl"),c={x:i.width/2,y:i.height/2},d={x:innerWidth/2,y:innerHeight/2};addEventListener("mousemove",t=>{d.x=t.clientX,d.y=t.clientY}),addEventListener("resize",()=>{i.width=innerWidth,i.height=innerHeight,E()});class u{constructor(t,e,i,s){this.x=t,this.y=e,this.radius=i,this.color=s}draw(){s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),s.fillStyle=this.color,s.fill(),s.closePath()}update(){this.draw()}}class y{constructor(t,e,i,s,h,r){this.x=t,this.y=e,this.radius=i,this.color=s,this.velocity=h,this.speedModifier=r}draw(){s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),s.fillStyle=`rgba(${this.color.r}, ${this.color.g}, ${this.color.b}, 1.0)`,s.fill(),s.closePath()}update(){this.draw(),this.x=this.x+this.velocity.x*this.speedModifier,this.y=this.y+this.velocity.y*this.speedModifier}}class p{constructor(t,e,i,s,h,r){this.x=t,this.y=e,this.radius=i,this.color=s,this.velocity=h,this.speedModifier=r}draw(){s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),s.fillStyle=this.color,s.fill(),s.closePath()}update(){this.draw(),this.x=this.x+this.velocity.x*this.speedModifier,this.y=this.y+this.velocity.y*this.speedModifier}}class f{constructor(t,e,i,s,h,r){this.x=t,this.y=e,this.radius=i,this.color=s,this.velocity=h,this.speedModifier=r,this.alpha=1}draw(){s.save(),s.globalAlpha=this.alpha,s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),s.fillStyle=this.color,s.fill(),s.closePath(),s.restore()}update(){this.draw(),this.velocity.x*=.97,this.velocity.y*=.97,this.x=this.x+this.velocity.x*this.speedModifier,this.y=this.y+this.velocity.y*this.speedModifier,this.alpha-=.01}}class M{constructor(t,e,i,s,h,r){this.x=t,this.y=e,this.radius=i,this.color=s,this.velocity=h,this.speedModifier=r,this.alpha=1}draw(){s.save(),s.globalAlpha=this.alpha,s.beginPath(),s.arc(this.x,this.y,this.radius,0,2*Math.PI,!1),s.strokeStyle=`rgba(${this.color.r},${this.color.g},${this.color.b},1)`,s.stroke(),s.closePath(),s.restore()}update(){this.draw(),this.velocity.x*=.97,this.velocity.y*=.97,this.radius+=10,this.x=g.x+this.velocity.x*this.speedModifier,this.y=g.y+this.velocity.y*this.speedModifier,this.alpha-=.01}}let x,m,g=new u(c.x,c.y,10,"white"),v=[],b=[],w=[],P=[];function E(){S=0,r.innerHTML=S,n.innerHTML=S,clearInterval(x),h=10,l.innerHTML=h,g=new u(c.x,c.y,10,"white"),v=[],b=[],w=[],P=[]}function T(){const t=Math.atan2(event.clientY-c.y,event.clientX-c.x),e={x:Math.cos(t),y:Math.sin(t)};v.push(new y(c.x,c.y,5,{r:255,g:215,b:20},e,10))}function L(){if(0!=h){h--,l.innerHTML=h;const t=Math.atan2(event.clientY-c.y,event.clientX-c.x),e={x:Math.cos(t),y:Math.sin(t)};P.push(new M(c.x,c.y,5,{r:255,g:0,b:0},e,10))}}let S=0;function H(){m=requestAnimationFrame(H),s.fillStyle="rgba(0,0,0,0.2)",s.fillRect(0,0,i.width,i.height),g.update(),P.forEach((t,e)=>{t.alpha<=0?setTimeout(()=>{P.splice(e,1)},0):t.update()}),w.forEach((t,e)=>{t.alpha<=0?setTimeout(()=>{w.splice(e,1)},0):t.update()}),v.forEach((t,e)=>{t.update();const s=t.radius;(t.x+s<0||t.x-s>i.width||t.y+s<0||t.y-s>i.height)&&setTimeout(()=>{v.splice(e,1)},0)}),b.forEach((t,e)=>{t.update();Math.hypot(g.x-t.x,g.y-t.y)-t.radius-g.radius<0&&(cancelAnimationFrame(m),o.style.display="block",n.innerHTML=S),P.forEach((s,h)=>{const a=Math.hypot(s.x-t.x,s.y-t.y);if(s.radius>i.width-200&&s.radius>i.height-200&&(console.log("remove bomb"),setTimeout(()=>{P.splice(h,1)},0)),a-t.radius-s.radius<0){S+=100,r.innerHTML=S,gsap.to(t,{radius:0}),b.splice(e,1);for(let e=0;e<2*t.radius;e++)w.push(new f(t.x,t.y,2*Math.random(),t.color,{x:Math.random()-.5,y:Math.random()-.5},5))}}),v.forEach((i,s)=>{if(Math.hypot(i.x-t.x,i.y-t.y)-t.radius-i.radius<1){S+=100,r.innerHTML=S;for(let e=0;e<2*t.radius;e++)w.push(new f(i.x,i.y,2*Math.random(),t.color,{x:Math.random()-.5,y:Math.random()-.5},5));t.radius-10>10?(S+=100,r.innerHTML=S,gsap.to(t,{radius:t.radius-10}),setTimeout(()=>{v.splice(s,1)},0)):(S+=250,r.innerHTML=S,setTimeout(()=>{b.splice(e,1),v.splice(s,1)},0))}})})}addEventListener("click",t=>{T()}),addEventListener("contextmenu",t=>{t.preventDefault();const e=Math.atan2(t.clientY-c.y,t.clientX-c.x);Math.cos(e),Math.sin(e);L()}),a.addEventListener("click",t=>{E(),g.draw(),H(),x=setInterval(()=>{const t=20*Math.random()+10;let e,s;Math.random()<.5?(e=Math.random()<.5?0-t:i.width+t,s=Math.random()*i.height):(e=Math.random()*i.width,s=Math.random()<.5?0-t:i.height+t);const h=`hsl(${360*Math.random()}, 50%, 50%)`,r=Math.atan2(c.y-s,c.x-e),a={x:Math.cos(r),y:Math.sin(r)};b.push(new p(e,s,t,h,a,2*Math.random()+1))},900),o.style.display="none"})}]);
//# sourceMappingURL=canvas.bundle.js.map